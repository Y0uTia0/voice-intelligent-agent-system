# UI/UX è®¾è®¡è§„èŒƒ

## 1. è®¾è®¡ç³»ç»Ÿä¸å˜é‡

### 1.1 è®¾è®¡ä»¤ç‰Œï¼ˆDesign Tokensï¼‰

æœ¬é¡¹ç›®ä½¿ç”¨ CSS å˜é‡é©±åŠ¨æ‰€æœ‰æ ·å¼ï¼Œä»¥ç¡®ä¿ç»Ÿä¸€æ€§å’Œçµæ´»æ€§ã€‚ä¸»è¦è®¾è®¡ä»¤ç‰Œå¦‚ä¸‹ï¼š

#### é¢œè‰²ç³»ç»Ÿ

```css
:root {
  /* ä¸»è¦é¢œè‰² */
  --color-primary: #4FD1C5;
  --color-secondary: #38B2AC;
  --color-accent: #805AD5;
  
  /* èƒŒæ™¯è‰² */
  --bg-primary: #1E1E2F;
  --bg-secondary: #27293D;
  --bg-tertiary: #2D3748;
  
  /* æ–‡æœ¬é¢œè‰² */
  --text-primary: #F8F8F8;
  --text-secondary: #CBD5E0;
  --text-muted: #718096;
  
  /* çŠ¶æ€é¢œè‰² */
  --error-color: #F56565;
  --warning-color: #ECC94B;
  --success-color: #48BB78;
  --info-color: #4299E1;
  
  /* è¾¹æ¡†å’Œé˜´å½± */
  --border-color: rgba(255, 255, 255, 0.1);
  --shadow-sm: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);
  --shadow-md: 0 4px 6px rgba(0,0,0,0.1), 0 1px 3px rgba(0,0,0,0.08);
  --shadow-lg: 0 10px 15px rgba(0,0,0,0.1), 0 4px 6px rgba(0,0,0,0.05);
}

/* æµ…è‰²ä¸»é¢˜å˜é‡ */
[data-theme="light"] {
  --bg-primary: #F7FAFC;
  --bg-secondary: #EDF2F7;
  --bg-tertiary: #E2E8F0;
  --text-primary: #1A202C;
  --text-secondary: #4A5568;
  --text-muted: #718096;
  --border-color: rgba(0, 0, 0, 0.1);
}
```

#### é—´è·ç³»ç»Ÿ

```css
:root {
  --spacing-xs: 4px;
  --spacing-sm: 8px;
  --spacing-md: 16px;
  --spacing-lg: 24px;
  --spacing-xl: 32px;
  --spacing-2xl: 48px;
  --spacing-3xl: 64px;
}
```

#### æ’ç‰ˆç³»ç»Ÿ

```css
:root {
  /* å­—ä½“ç³»åˆ— */
  --font-base: 'Inter', sans-serif;
  --font-mono: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;
  
  /* å­—ä½“å¤§å° */
  --text-xs: 0.75rem;   /* 12px */
  --text-sm: 0.875rem;  /* 14px */
  --text-base: 1rem;    /* 16px */
  --text-lg: 1.125rem;  /* 18px */
  --text-xl: 1.25rem;   /* 20px */
  --text-2xl: 1.5rem;   /* 24px */
  --text-3xl: 1.875rem; /* 30px */
  --text-4xl: 2.25rem;  /* 36px */
  
  /* è¡Œé«˜ */
  --leading-none: 1;
  --leading-tight: 1.25;
  --leading-normal: 1.5;
  --leading-loose: 2;
  
  /* å­—é‡ */
  --font-light: 300;
  --font-normal: 400;
  --font-medium: 500;
  --font-semibold: 600;
  --font-bold: 700;
}
```

#### åœ†è§’ä¸è¾¹æ¡†

```css
:root {
  --radius-none: 0;
  --radius-sm: 4px;
  --radius-base: 8px;
  --radius-md: 12px;
  --radius-lg: 16px;
  --radius-xl: 24px;
  --radius-full: 9999px;
  
  --border-width-none: 0;
  --border-width-thin: 1px;
  --border-width-thick: 2px;
  --border-width-heavy: 4px;
}
```

#### åŠ¨ç”»ä¸è¿‡æ¸¡

```css
:root {
  --transition-fast: 150ms;
  --transition-normal: 300ms;
  --transition-slow: 500ms;
  --transition-ease: cubic-bezier(0.4, 0, 0.2, 1);
  --transition-bounce: cubic-bezier(0.175, 0.885, 0.32, 1.275);
}
```

### 1.2 ä½¿ç”¨è®¾è®¡ä»¤ç‰Œ

åœ¨ç»„ä»¶ä¸­ä½¿ç”¨è®¾è®¡ä»¤ç‰Œçš„ç¤ºä¾‹ï¼š

```jsx
// ä½¿ç”¨CSSæ¨¡å—
import styles from './Button.module.css';

// Button.module.css
.button {
  background-color: var(--color-primary);
  color: var(--text-primary);
  border-radius: var(--radius-base);
  padding: var(--spacing-sm) var(--spacing-md);
  font-family: var(--font-base);
  font-weight: var(--font-medium);
  transition: all var(--transition-normal) var(--transition-ease);
}

.button:hover {
  background-color: var(--color-secondary);
  box-shadow: var(--shadow-md);
}
```

## 2. å“åº”å¼è®¾è®¡ç­–ç•¥

### 2.1 ç§»åŠ¨ä¼˜å…ˆ (Mobile-First)

æœ¬é¡¹ç›®é‡‡ç”¨ç§»åŠ¨ä¼˜å…ˆçš„å“åº”å¼è®¾è®¡ç­–ç•¥ï¼š
- é»˜è®¤æ ·å¼é’ˆå¯¹æœ€å°è®¾å¤‡ï¼ˆâ‰¥320pxï¼‰ç¼–å†™
- ä½¿ç”¨åª’ä½“æŸ¥è¯¢ä¸ºæ›´å¤§å±å¹•æä¾›å¢å¼ºçš„å¸ƒå±€å’ŒåŠŸèƒ½
- ç¡®ä¿åœ¨æœ€å°è§†å£ä¸‹å¸ƒå±€å’Œäº¤äº’å¯ç”¨

### 2.2 æ–­ç‚¹è®¾è®¡

ä¸»è¦æ–­ç‚¹è®¾ç½®ï¼š

```css
/* tailwind.config.js ä¸­çš„é…ç½® */
module.exports = {
  theme: {
    screens: {
      'sm': '640px',   /* å°å±å¹³æ¿/å¤§æ‰‹æœº */
      'md': '768px',   /* æ ‡å‡†å¹³æ¿ */
      'lg': '1024px',  /* å°ç¬”è®°æœ¬ */
      'xl': '1280px',  /* å¤§å±å¹• */
      '2xl': '1536px', /* è¶…å¤§å±å¹• */
    }
  }
}
```

### 2.3 æµå¼å¸ƒå±€æ¨¡å¼

#### CSS Grid å®ç°

```css
.grid-container {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
  gap: var(--spacing-md);
}
```

#### Tailwind å®ç°

```html
<div class="grid gap-4 grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4">
  <!-- å¡ç‰‡åˆ—è¡¨ -->
</div>
```

### 2.4 å“åº”å¼æ’ç‰ˆ

ä½¿ç”¨ clamp() å‡½æ•°å®ç°æµä½“æ’ç‰ˆï¼š

```css
h1 {
  font-size: clamp(1.5rem, 5vw, 2.5rem);
}

p {
  font-size: clamp(1rem, 4vw, 1.125rem);
}
```

### 2.5 å“åº”å¼ç»„ä»¶ç¤ºä¾‹

#### ç™»å½•è¡¨å•

```html
<form class="w-full max-w-md mx-auto p-4 bg-secondary rounded-lg">
  <h2 class="text-xl sm:text-2xl mb-4">è´¦å·ç™»å½•</h2>
  
  <div class="mb-4">
    <label class="block mb-2">ç”¨æˆ·å</label>
    <input class="w-full p-2 rounded border" />
  </div>
  
  <div class="mb-6">
    <label class="block mb-2">å¯†ç </label>
    <input class="w-full p-2 rounded border" type="password" />
  </div>
  
  <button class="w-full py-2 rounded bg-primary text-white">ç™»å½•</button>
</form>
```

#### å“åº”å¼å¯¼èˆª

```jsx
function Navigation() {
  const [menuOpen, setMenuOpen] = useState(false);
  
  return (
    <nav className="bg-secondary p-4">
      <div className="flex justify-between items-center">
        <div className="logo">Brand</div>
        
        {/* ç§»åŠ¨ç«¯æ±‰å ¡èœå• */}
        <button className="md:hidden" onClick={() => setMenuOpen(!menuOpen)}>
          {menuOpen ? 'Close' : 'Menu'}
        </button>
        
        {/* æ¡Œé¢ç«¯å¯¼èˆª */}
        <ul className="hidden md:flex space-x-4">
          <li><a href="/">é¦–é¡µ</a></li>
          <li><a href="/services">æœåŠ¡</a></li>
          <li><a href="/profile">ä¸ªäººä¸­å¿ƒ</a></li>
        </ul>
      </div>
      
      {/* ç§»åŠ¨ç«¯èœå•å±•å¼€ */}
      {menuOpen && (
        <ul className="mt-4 md:hidden">
          <li className="py-2"><a href="/">é¦–é¡µ</a></li>
          <li className="py-2"><a href="/services">æœåŠ¡</a></li>
          <li className="py-2"><a href="/profile">ä¸ªäººä¸­å¿ƒ</a></li>
        </ul>
      )}
    </nav>
  );
}
```

## 3. Ant Design Mobile ä½¿ç”¨æŒ‡å—

æœ¬é¡¹ç›®ä½¿ç”¨ Ant Design Mobile ä½œä¸ºä¸»è¦ UI ç»„ä»¶åº“ï¼Œå¹¶è¿›è¡Œäº†è‡ªå®šä¹‰ä¸»é¢˜é…ç½®ã€‚

### 3.1 å®‰è£…ä¸é…ç½®

```bash
# å®‰è£…ä¾èµ–
npm install antd-mobile

# é…ç½®Viteä»¥æ”¯æŒAnt Design Mobileçš„æ ·å¼
# vite.config.ts
import { defineConfig } from 'vite';

export default defineConfig({
  css: {
    preprocessorOptions: {
      less: {
        modifyVars: {
          '@primary-color': 'var(--color-primary)',
          '@font-family': 'var(--font-base)',
          // å…¶ä»–å˜é‡...
        },
        javascriptEnabled: true,
      }
    }
  }
});
```

### 3.2 åŸºç¡€ç»„ä»¶ä½¿ç”¨ç¤ºä¾‹

#### æŒ‰é’®ç»„ä»¶

```jsx
import { Button } from 'antd-mobile';

function ButtonExample() {
  return (
    <div className="space-y-4">
      <Button color="primary" block>ä¸»è¦æŒ‰é’®</Button>
      <Button color="success" block>æˆåŠŸæŒ‰é’®</Button>
      <Button color="warning" block>è­¦å‘ŠæŒ‰é’®</Button>
      <Button color="danger" block>å±é™©æŒ‰é’®</Button>
    </div>
  );
}
```

#### è¡¨å•ç»„ä»¶

```jsx
import { Form, Input, Button } from 'antd-mobile';

function LoginForm() {
  const [form] = Form.useForm();
  
  const onFinish = (values) => {
    console.log('Form values:', values);
  };
  
  return (
    <Form
      form={form}
      onFinish={onFinish}
      layout="vertical"
      footer={
        <Button block type="submit" color="primary">
          ç™»å½•
        </Button>
      }
    >
      <Form.Item name="username" label="ç”¨æˆ·å" rules={[{ required: true }]}>
        <Input placeholder="è¯·è¾“å…¥ç”¨æˆ·å" />
      </Form.Item>
      
      <Form.Item name="password" label="å¯†ç " rules={[{ required: true }]}>
        <Input placeholder="è¯·è¾“å…¥å¯†ç " type="password" />
      </Form.Item>
    </Form>
  );
}
```

### 3.3 è‡ªå®šä¹‰ç»„ä»¶æ ·å¼

```jsx
import { Button } from 'antd-mobile';
import styles from './CustomButton.module.css';

function CustomButton({ children, ...props }) {
  return (
    <Button className={styles.customButton} {...props}>
      {children}
    </Button>
  );
}

// CustomButton.module.css
.customButton {
  border-radius: var(--radius-lg);
  background-image: linear-gradient(135deg, var(--color-primary), var(--color-accent));
  box-shadow: var(--shadow-md);
}

.customButton:active {
  transform: translateY(1px);
}
```

### 3.4 å¸¸ç”¨ç»„ä»¶

ä»¥ä¸‹æ˜¯é¡¹ç›®ä¸­å¸¸ç”¨çš„ Ant Design Mobile ç»„ä»¶ï¼š

- `Button`: æŒ‰é’®
- `Form`: è¡¨å•
- `Input`: è¾“å…¥æ¡†
- `Tabs`: æ ‡ç­¾é¡µ
- `NavBar`: å¯¼èˆªæ 
- `Toast`: è½»æç¤º
- `Dialog`: å¯¹è¯æ¡†
- `Picker`: é€‰æ‹©å™¨
- `List`: åˆ—è¡¨
- `Card`: å¡ç‰‡
- `Grid`: æ …æ ¼
- `Space`: é—´è·
- `Avatar`: å¤´åƒ
- `Badge`: å¾½æ ‡
- `Popover`: æ°”æ³¡

## 4. ä¸»é¢˜åˆ‡æ¢å®ç°æŒ‡å—

### 4.1 ä¸»é¢˜ä¸Šä¸‹æ–‡ (ThemeContext)

```jsx
// src/contexts/ThemeContext.js
import React, { createContext, useState, useEffect, useContext } from 'react';

// ä¸»é¢˜é€‰é¡¹
const THEMES = {
  LIGHT: 'light',
  DARK: 'dark',
};

// åˆ›å»ºä¸Šä¸‹æ–‡
const ThemeContext = createContext({
  theme: THEMES.DARK,
  setTheme: () => {},
});

// ä¸»é¢˜æä¾›è€…ç»„ä»¶
export function ThemeProvider({ children }) {
  // ä»localStorageè¯»å–ä¿å­˜çš„ä¸»é¢˜ï¼Œé»˜è®¤ä¸ºæ·±è‰²
  const [theme, setTheme] = useState(() => {
    const savedTheme = localStorage.getItem('theme');
    return savedTheme || THEMES.DARK;
  });
  
  // æ›´æ–°ä¸»é¢˜æ—¶ä¿å­˜åˆ°localStorage
  useEffect(() => {
    localStorage.setItem('theme', theme);
    // æ›´æ–°HTMLå…ƒç´ çš„data-themeå±æ€§
    document.documentElement.setAttribute('data-theme', theme);
  }, [theme]);
  
  return (
    <ThemeContext.Provider value={{ theme, setTheme }}>
      {children}
    </ThemeContext.Provider>
  );
}

// è‡ªå®šä¹‰Hookï¼Œä¾¿äºç»„ä»¶ä½¿ç”¨ä¸»é¢˜
export function useTheme() {
  const context = useContext(ThemeContext);
  if (context === undefined) {
    throw new Error('useTheme must be used within a ThemeProvider');
  }
  return context;
}

export { THEMES };
```

### 4.2 ä¸»é¢˜åˆ‡æ¢ç»„ä»¶ (ThemeToggle)

```jsx
// src/components/ThemeToggle.jsx
import React from 'react';
import { Switch } from 'antd-mobile';
import { useTheme, THEMES } from '../contexts/ThemeContext';
import styles from './ThemeToggle.module.css';

function ThemeToggle() {
  const { theme, setTheme } = useTheme();
  
  const toggleTheme = () => {
    setTheme(theme === THEMES.LIGHT ? THEMES.DARK : THEMES.LIGHT);
  };
  
  return (
    <div className={styles.themeToggle}>
      <span>ğŸŒ™</span>
      <Switch
        checked={theme === THEMES.LIGHT}
        onChange={toggleTheme}
        aria-label="åˆ‡æ¢ä¸»é¢˜"
      />
      <span>â˜€ï¸</span>
    </div>
  );
}

export default ThemeToggle;
```

### 4.3 åœ¨åº”ç”¨ä¸­ä½¿ç”¨ä¸»é¢˜

```jsx
// src/App.jsx
import React from 'react';
import { ThemeProvider } from './contexts/ThemeContext';
import Routes from './Routes';
import './styles/global.css';

function App() {
  return (
    <ThemeProvider>
      <Routes />
    </ThemeProvider>
  );
}

export default App;
```

### 4.4 ä¸»é¢˜è®¾ç½®é¡µé¢ (ThemeSettings)

```jsx
// src/components/ThemeSettings.jsx
import React, { useState } from 'react';
import { Form, Slider, Button, Radio } from 'antd-mobile';
import { useTheme, THEMES } from '../contexts/ThemeContext';
import styles from './ThemeSettings.module.css';

function ThemeSettings() {
  const { theme, setTheme } = useTheme();
  const [primaryColor, setPrimaryColor] = useState(() => {
    // è·å–å½“å‰ä¸»è‰²è°ƒ
    const currentColor = getComputedStyle(document.documentElement)
      .getPropertyValue('--color-primary')
      .trim();
    return currentColor || '#4FD1C5';
  });
  
  const [borderRadius, setBorderRadius] = useState(() => {
    // è·å–å½“å‰åœ†è§’å€¼
    const currentRadius = getComputedStyle(document.documentElement)
      .getPropertyValue('--radius-base')
      .trim();
    return parseInt(currentRadius) || 8;
  });
  
  // æ›´æ–°ä¸»é¢˜é¢œè‰²
  const handleColorChange = (color) => {
    setPrimaryColor(color);
    document.documentElement.style.setProperty('--color-primary', color);
  };
  
  // æ›´æ–°åœ†è§’å¤§å°
  const handleRadiusChange = (radius) => {
    setBorderRadius(radius);
    document.documentElement.style.setProperty('--radius-base', `${radius}px`);
  };
  
  // é‡ç½®ä¸ºé»˜è®¤è®¾ç½®
  const handleReset = () => {
    // é‡ç½®ä¸ºé»˜è®¤ä¸»è‰²è°ƒ
    setPrimaryColor('#4FD1C5');
    document.documentElement.style.setProperty('--color-primary', '#4FD1C5');
    
    // é‡ç½®ä¸ºé»˜è®¤åœ†è§’
    setBorderRadius(8);
    document.documentElement.style.setProperty('--radius-base', '8px');
  };
  
  return (
    <div className={styles.themeSettings}>
      <h2>ä¸»é¢˜è®¾ç½®</h2>
      
      <Form layout="vertical">
        <Form.Item label="ä¸»é¢˜æ¨¡å¼">
          <Radio.Group
            value={theme}
            onChange={(val) => setTheme(val)}
          >
            <Radio value={THEMES.LIGHT}>æµ…è‰²</Radio>
            <Radio value={THEMES.DARK}>æ·±è‰²</Radio>
          </Radio.Group>
        </Form.Item>
        
        <Form.Item label="ä¸»è‰²è°ƒ">
          <input
            type="color"
            value={primaryColor}
            onChange={(e) => handleColorChange(e.target.value)}
            className={styles.colorPicker}
          />
        </Form.Item>
        
        <Form.Item label={`åœ†è§’å¤§å°: ${borderRadius}px`}>
          <Slider
            min={0}
            max={24}
            step={1}
            value={borderRadius}
            onChange={handleRadiusChange}
          />
        </Form.Item>
        
        <Form.Item>
          <Button block onClick={handleReset}>
            é‡ç½®ä¸ºé»˜è®¤è®¾ç½®
          </Button>
        </Form.Item>
      </Form>
      
      <div className={styles.preview}>
        <h3>é¢„è§ˆ</h3>
        <div className={styles.previewItem}>
          <button
            style={{
              backgroundColor: 'var(--color-primary)',
              borderRadius: 'var(--radius-base)',
              padding: '8px 16px',
              border: 'none',
              color: 'white',
            }}
          >
            æŒ‰é’®æ ·å¼é¢„è§ˆ
          </button>
        </div>
      </div>
    </div>
  );
}

export default ThemeSettings;
```

## 5. ä¸»è¦é¡µé¢å¸ƒå±€ä¸ç»„ä»¶æŒ‡å—

### 5.1 åŸºç¡€é¡µé¢å¸ƒå±€ (AppLayout)

æ‰€æœ‰é¡µé¢åº”ä½¿ç”¨ AppLayout ç»„ä»¶ä½œä¸ºåŸºç¡€å¸ƒå±€ï¼š

```jsx
// src/components/Layout/AppLayout.jsx
import React from 'react';
import Header from './Header';
import Footer from './Footer';
import StatusBar from '../StatusBar/StatusBar';
import styles from './AppLayout.module.css';

function AppLayout({ children }) {
  return (
    <div className={styles.appLayout}>
      <Header />
      <main className={styles.main}>
        {children}
      </main>
      <StatusBar />
      <Footer />
    </div>
  );
}

export default AppLayout;

// AppLayout.module.css
.appLayout {
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  background-color: var(--bg-primary);
  color: var(--text-primary);
}

.main {
  flex: 1;
  padding: var(--spacing-md);
  max-width: 1200px;
  width: 100%;
  margin: 0 auto;
  padding-bottom: 60px; /* ä¸º StatusBar é¢„ç•™ç©ºé—´ */
}
```

### 5.2 çŠ¶æ€æ ç»„ä»¶ (StatusBar)

çŠ¶æ€æ ç”¨äºæ˜¾ç¤ºè¯­éŸ³äº¤äº’çš„å½“å‰çŠ¶æ€ï¼š

```jsx
// src/components/StatusBar/StatusBar.jsx
import React from 'react';
import { Progress } from 'antd-mobile';
import { useSession } from '../../contexts/SessionContext';
import styles from './StatusBar.module.css';

// å®šä¹‰å„ä¸ªé˜¶æ®µå¯¹åº”çš„è¿›åº¦
const STAGE_PROGRESS = {
  idle: 0,
  recording: 25,
  interpreting: 50,
  confirming: 75,
  executing: 90,
  completed: 100,
};

function StatusBar() {
  const { stage, statusMessage } = useSession();
  const progress = STAGE_PROGRESS[stage] || 0;
  
  return (
    <div className={styles.statusBar}>
      <div className={styles.progress}>
        <Progress
          percent={progress}
          strokeColor={progress === 100 ? 'var(--success-color)' : 'var(--color-primary)'}
        />
      </div>
      <div className={styles.status}>
        {statusMessage || getDefaultMessage(stage)}
      </div>
    </div>
  );
}

// æ ¹æ®é˜¶æ®µè·å–é»˜è®¤æ¶ˆæ¯
function getDefaultMessage(stage) {
  switch (stage) {
    case 'idle':
      return 'ç‚¹å‡»éº¦å…‹é£å¼€å§‹è¯­éŸ³äº¤äº’';
    case 'recording':
      return 'æ­£åœ¨å½•éŸ³...';
    case 'interpreting':
      return 'æ­£åœ¨ç†è§£æ‚¨çš„æ„å›¾...';
    case 'confirming':
      return 'è¯·ç¡®è®¤æ‚¨çš„è¯·æ±‚...';
    case 'executing':
      return 'æ­£åœ¨æ‰§è¡Œ...';
    case 'completed':
      return 'æ‰§è¡Œå®Œæˆ';
    default:
      return 'å‡†å¤‡å°±ç»ª';
  }
}

export default StatusBar;
```

### 5.3 è¯­éŸ³å½•åˆ¶ç»„ä»¶ (VoiceRecorder)

```jsx
// src/components/VoiceRecorder/VoiceRecorder.jsx
import React, { useState } from 'react';
import { Button } from 'antd-mobile';
import { useVoice } from '../../hooks/useVoice';
import { useSession } from '../../contexts/SessionContext';
import styles from './VoiceRecorder.module.css';

function VoiceRecorder() {
  const { startRecording, stopRecording, isRecording, error } = useVoice();
  const { setStage } = useSession();
  
  const handleToggleRecording = async () => {
    if (isRecording) {
      const text = await stopRecording();
      if (text) {
        setStage('interpreting');
        // æ­¤å¤„åº”è§¦å‘æ„å›¾è§£æ
      }
    } else {
      setStage('recording');
      await startRecording();
    }
  };
  
  return (
    <div className={styles.voiceRecorder}>
      <Button
        className={`${styles.recordButton} ${isRecording ? styles.recording : ''}`}
        onClick={handleToggleRecording}
        size="large"
        shape="circle"
        aria-label={isRecording ? 'åœæ­¢å½•éŸ³' : 'å¼€å§‹å½•éŸ³'}
      >
        {isRecording ? 'åœæ­¢' : 'å½•éŸ³'}
      </Button>
      
      {error && <div className={styles.error}>{error}</div>}
    </div>
  );
}

export default VoiceRecorder;
```

## 6. æ— éšœç¢è®¾è®¡æŒ‡å—

### 6.1 åŸºæœ¬åŸåˆ™

- è¯­ä¹‰åŒ–HTML: ä½¿ç”¨æ­£ç¡®çš„HTMLå…ƒç´ è¡¨è¾¾æ­£ç¡®çš„è¯­ä¹‰
- é”®ç›˜å¯è®¿é—®æ€§: æ‰€æœ‰äº¤äº’å…ƒç´ å¯é€šè¿‡é”®ç›˜è®¿é—®
- é¢œè‰²å¯¹æ¯”åº¦: ç¡®ä¿æ–‡æœ¬ä¸èƒŒæ™¯ä¹‹é—´æœ‰è¶³å¤Ÿçš„å¯¹æ¯”åº¦
- æ–‡æœ¬æ›¿ä»£: ä¸ºéæ–‡æœ¬å†…å®¹æä¾›æ›¿ä»£æ–‡æœ¬
- å±å¹•é˜…è¯»å™¨å…¼å®¹æ€§: ç¡®ä¿å±å¹•é˜…è¯»å™¨å¯ä»¥æ­£ç¡®ç†è§£å†…å®¹

### 6.2 å®ç°ç¤ºä¾‹

#### è¯­ä¹‰åŒ–HTML

```jsx
// ä¸å¥½çš„ç¤ºä¾‹
<div className="button" onClick={handleClick}>æäº¤</div>

// å¥½çš„ç¤ºä¾‹
<button className="button" onClick={handleClick}>æäº¤</button>
```

#### é”®ç›˜å¯è®¿é—®æ€§

```jsx
// ç¡®ä¿å¯èšç„¦å…ƒç´ æœ‰åˆé€‚çš„tabé¡ºåº
<div className="login-form">
  <input tabIndex="1" placeholder="ç”¨æˆ·å" />
  <input tabIndex="2" type="password" placeholder="å¯†ç " />
  <button tabIndex="3">ç™»å½•</button>
  <a tabIndex="4" href="/forgot-password">å¿˜è®°å¯†ç ?</a>
</div>
```

#### ARIAå±æ€§

```jsx
// ä½¿ç”¨ARIAå±æ€§å¢å¼ºæ— éšœç¢æ€§
<button 
  aria-label="å¼€å§‹å½•éŸ³" 
  aria-pressed={isRecording}
  onClick={toggleRecording}
>
  {isRecording ? 'åœæ­¢' : 'å½•éŸ³'}
</button>

<div role="alert" aria-live="assertive">
  {errorMessage}
</div>
```

### 6.3 æµ‹è¯•æ— éšœç¢æ€§

ä½¿ç”¨ jest-axe è¿›è¡Œæ— éšœç¢æµ‹è¯•ï¼š

```jsx
// src/components/__tests__/Button.test.js
import React from 'react';
import { render } from '@testing-library/react';
import { axe, toHaveNoViolations } from 'jest-axe';
import Button from '../Button';

expect.extend(toHaveNoViolations);

describe('Button component', () => {
  it('should not have accessibility violations', async () => {
    const { container } = render(<Button>Click me</Button>);
    const results = await axe(container);
    expect(results).toHaveNoViolations();
  });
});
```

## 7. ç§»åŠ¨æ‰‹åŠ¿ä¸äº¤äº’è®¾è®¡

### 7.1 å¸¸ç”¨æ‰‹åŠ¿

æœ¬é¡¹ç›®æ”¯æŒä»¥ä¸‹ç§»åŠ¨æ‰‹åŠ¿ï¼š

- ç‚¹å‡»: æ™®é€šäº¤äº’
- é•¿æŒ‰: æ˜¾ç¤ºä¸Šä¸‹æ–‡æ“ä½œ
- æ»‘åŠ¨: å¯¼èˆªæˆ–åˆ—è¡¨æ“ä½œ
- åŒæŒ‡ç¼©æ”¾: å›¾ç‰‡æˆ–åœ°å›¾æŸ¥çœ‹
- ä¸‹æ‹‰åˆ·æ–°: æ›´æ–°å†…å®¹

### 7.2 æ‰‹åŠ¿å®ç°ç¤ºä¾‹

#### ä¸‹æ‹‰åˆ·æ–°

```jsx
// src/pages/ServiceListPage.jsx
import React, { useState } from 'react';
import { PullToRefresh, List } from 'antd-mobile';
import { fetchServices } from '../services/apiClient';

function ServiceListPage() {
  const [services, setServices] = useState([]);
  const [loading, setLoading] = useState(false);
  
  const onRefresh = async () => {
    setLoading(true);
    try {
      const data = await fetchServices();
      setServices(data);
    } catch (error) {
      console.error('Failed to refresh services', error);
    } finally {
      setLoading(false);
    }
  };
  
  return (
    <PullToRefresh
      onRefresh={onRefresh}
      refreshing={loading}
    >
      <List header="æœåŠ¡åˆ—è¡¨">
        {services.map(service => (
          <List.Item key={service.id} title={service.name}>
            {service.description}
          </List.Item>
        ))}
      </List>
    </PullToRefresh>
  );
}
```

#### æ»‘åŠ¨æ“ä½œ

```jsx
// src/components/SwipeableListItem.jsx
import React from 'react';
import { SwipeAction, List } from 'antd-mobile';

function SwipeableListItem({ item, onEdit, onDelete }) {
  return (
    <SwipeAction
      rightActions={[
        {
          key: 'edit',
          text: 'ç¼–è¾‘',
          color: 'primary',
          onClick: () => onEdit(item),
        },
        {
          key: 'delete',
          text: 'åˆ é™¤',
          color: 'danger',
          onClick: () => onDelete(item.id),
        },
      ]}
    >
      <List.Item title={item.title}>
        {item.description}
      </List.Item>
    </SwipeAction>
  );
}
```

## 8. å›¾æ ‡ä¸å›¾åƒæŒ‡å—

### 8.1 å›¾æ ‡ç³»ç»Ÿ

æœ¬é¡¹ç›®ä½¿ç”¨ Ant Design Mobile å†…ç½®çš„å›¾æ ‡ç³»ç»Ÿï¼Œå¹¶æ”¯æŒè‡ªå®šä¹‰SVGå›¾æ ‡ã€‚

```jsx
// ä½¿ç”¨å†…ç½®å›¾æ ‡
import { 
  SearchOutline, 
  CloseCircleOutline,
  SoundOutline
} from 'antd-mobile-icons';

function IconExample() {
  return (
    <div>
      <SearchOutline />
      <CloseCircleOutline />
      <SoundOutline />
    </div>
  );
}

// è‡ªå®šä¹‰SVGå›¾æ ‡
function CustomIcon({ svg, color, size = 24 }) {
  return (
    <div 
      className="custom-icon" 
      style={{ 
        width: `${size}px`, 
        height: `${size}px`,
        color: color || 'currentColor'
      }}
      dangerouslySetInnerHTML={{ __html: svg }}
    />
  );
}
```

### 8.2 å›¾åƒä¼˜åŒ–

- ä½¿ç”¨ WebP æ ¼å¼å›¾åƒä»¥è·å¾—æ›´å¥½çš„å‹ç¼©æ¯”
- ä½¿ç”¨å“åº”å¼å›¾åƒåŠ è½½ä¸åŒå°ºå¯¸
- å®ç°æ‡’åŠ è½½æé«˜æ€§èƒ½

```jsx
// å“åº”å¼å›¾åƒç¤ºä¾‹
function ResponsiveImage({ src, alt, className }) {
  const webpSrc = src.replace(/\.(png|jpg|jpeg)$/, '.webp');
  
  return (
    <picture className={className}>
      <source srcSet={webpSrc} type="image/webp" />
      <source srcSet={src} type="image/jpeg" />
      <img 
        src={src} 
        alt={alt} 
        loading="lazy" 
        width="100%" 
        height="auto" 
      />
    </picture>
  );
}
```

## 9. åŠ¨æ•ˆè®¾è®¡

### 9.1 å¸¸ç”¨åŠ¨æ•ˆ

æœ¬é¡¹ç›®ä½¿ç”¨ CSS è¿‡æ¸¡å’Œ Framer Motion åº“å®ç°ä»¥ä¸‹åŠ¨æ•ˆï¼š

- é¡µé¢è½¬åœº: æ·¡å…¥æ·¡å‡º
- åˆ—è¡¨é¡¹åŠ¨ç”»: é¡ºåºå‡ºç°
- æŒ‰é’®çŠ¶æ€: æ‚¬æµ®ã€ç‚¹å‡»çŠ¶æ€åé¦ˆ
- åŠ è½½çŠ¶æ€: è¿›åº¦æŒ‡ç¤ºå™¨ã€éª¨æ¶å±

### 9.2 CSS è¿‡æ¸¡ç¤ºä¾‹

```css
/* æŒ‰é’®æ‚¬æµ®æ•ˆæœ */
.button {
  background-color: var(--color-primary);
  transition: all var(--transition-normal) var(--transition-ease);
}

.button:hover {
  background-color: var(--color-secondary);
  transform: translateY(-2px);
  box-shadow: var(--shadow-md);
}

.button:active {
  transform: translateY(1px);
}

/* é¡µé¢è½¬åœºåŠ¨ç”» */
.page-enter {
  opacity: 0;
  transform: translateY(10px);
}

.page-enter-active {
  opacity: 1;
  transform: translateY(0);
  transition: opacity var(--transition-normal), transform var(--transition-normal);
}

.page-exit {
  opacity: 1;
}

.page-exit-active {
  opacity: 0;
  transition: opacity var(--transition-normal);
}
```

### 9.3 Framer Motion ç¤ºä¾‹

```jsx
// src/components/AnimatedList.jsx
import React from 'react';
import { motion } from 'framer-motion';

function AnimatedList({ items }) {
  return (
    <ul>
      {items.map((item, index) => (
        <motion.li
          key={item.id}
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ 
            duration: 0.3, 
            delay: index * 0.1,
            ease: 'easeOut'
          }}
        >
          {item.content}
        </motion.li>
      ))}
    </ul>
  );
}
```

## 10. æš—é»‘æ¨¡å¼å®ç°

### 10.1 CSS å˜é‡åˆ‡æ¢

ä½¿ç”¨ CSS å˜é‡å’Œ data-theme å±æ€§å®ç°æ·±è‰²/æµ…è‰²æ¨¡å¼åˆ‡æ¢ï¼š

```css
/* æµ…è‰²æ¨¡å¼ï¼ˆé»˜è®¤ï¼‰ */
:root {
  --bg-primary: #F7FAFC;
  --bg-secondary: #EDF2F7;
  --text-primary: #1A202C;
  --text-secondary: #4A5568;
  /* å…¶ä»–å˜é‡... */
}

/* æ·±è‰²æ¨¡å¼ */
[data-theme="dark"] {
  --bg-primary: #1E1E2F;
  --bg-secondary: #27293D;
  --text-primary: #F8F8F8;
  --text-secondary: #CBD5E0;
  /* å…¶ä»–å˜é‡... */
}
```

### 10.2 è‡ªåŠ¨æ£€æµ‹ç³»ç»Ÿåå¥½

```jsx
// src/contexts/ThemeContext.js
useEffect(() => {
  // æ£€æŸ¥ç³»ç»Ÿæ·±è‰²æ¨¡å¼åå¥½
  const prefersDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches;
  
  // å¦‚æœæ²¡æœ‰ä¿å­˜çš„ä¸»é¢˜è®¾ç½®ï¼Œä½¿ç”¨ç³»ç»Ÿåå¥½
  if (!localStorage.getItem('theme')) {
    setTheme(prefersDarkMode ? THEMES.DARK : THEMES.LIGHT);
  }
  
  // ç›‘å¬ç³»ç»Ÿåå¥½å˜åŒ–
  const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)');
  const handleChange = (e) => {
    if (!localStorage.getItem('theme')) {
      setTheme(e.matches ? THEMES.DARK : THEMES.LIGHT);
    }
  };
  
  mediaQuery.addEventListener('change', handleChange);
  
  return () => {
    mediaQuery.removeEventListener('change', handleChange);
  };
}, []);
```